<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<graphml xmlns="http://graphml.graphdrawing.org/xmlns" xmlns:java="http://www.yworks.com/xml/yfiles-common/1.0/java" xmlns:sys="http://www.yworks.com/xml/yfiles-common/markup/primitives/2.0" xmlns:x="http://www.yworks.com/xml/yfiles-common/markup/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:y="http://www.yworks.com/xml/graphml" xmlns:yed="http://www.yworks.com/xml/yed/3" xsi:schemaLocation="http://graphml.graphdrawing.org/xmlns http://www.yworks.com/xml/schema/graphml/1.1/ygraphml.xsd">
  <!--Created by yEd 3.22-->
  <key attr.name="Description" attr.type="string" for="graph" id="d0"/>
  <key for="port" id="d1" yfiles.type="portgraphics"/>
  <key for="port" id="d2" yfiles.type="portgeometry"/>
  <key for="port" id="d3" yfiles.type="portuserdata"/>
  <key attr.name="url" attr.type="string" for="node" id="d4"/>
  <key attr.name="description" attr.type="string" for="node" id="d5"/>
  <key for="node" id="d6" yfiles.type="nodegraphics"/>
  <key for="graphml" id="d7" yfiles.type="resources"/>
  <key attr.name="url" attr.type="string" for="edge" id="d8"/>
  <key attr.name="description" attr.type="string" for="edge" id="d9"/>
  <key for="edge" id="d10" yfiles.type="edgegraphics"/>
  <graph edgedefault="directed" id="G">
    <data key="d0" xml:space="preserve"/>
    <node id="n0">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="991.5547999999999" width="560.4658440000002" x="190.0" y="169.5"/>
          <y:Fill color="#FFCC00" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="944.875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="459.970703125" x="50.24757043750009" xml:space="preserve" y="23.339899999999943">#include "gpio.h"
#include "iic.h"
#include "led.h"
#include "sys.h"
#include "timer.h"
#include "adc.h"
#include "usart.h" 
#include "TaskFun.h"
#include "Flash.h"	
#include "delay.h"
#include "wdt.h"
#include "bq769xx.h"
#include "ConfigPara.h"
#include "Rs485Data.h"
#include "DataBase.h"
#include "soc.h"

TaskTime     TaskTimePare=TaskTime_DEFAULTS;

void SW_JTAGioConfig(void);
void FLASH_Update_Data(void);
void Sys_Rece_Data(void);
void Sys_Send_Data(void);
void Get_Base_Data(void);
void Mix_Function_Pro(void);

int main(void)
{	 
	  NVIC_Configuration(); 	 //ÉèÖÃNVICÖÐ¶Ï·Ö×é2:2Î»ÇÀÕ¼ÓÅÏÈ¼¶£¬2Î»ÏìÓ¦ÓÅÏÈ¼¶
	  SW_JTAGioConfig();
	  Init_GPIO_SYS_Power(); 
		InitPara0();
		//FLASH_Update_Data();
	  //System_Pare_Get();
		Init_GPIO_LED();
		Init_GPIO_ALERT();
	  Init_GPIO_BQ769xx_Wake();
		Init_GPIO_R485EN();
		Init_GPIO_IIC(); 

		Uart2_init(115200);
	  Tim1_Init(7199,9);         //72000000/71999=1k    1msÖÐ¶ÏÒ»´Î	
		delay_init();
	  BQ769xx_Wake();
		BQ769xx_Init();
		batt_cap_ocvsoc_init();
		gBMSData.Sys_Mod.sys_mode=SYS_MODE_STANDBY;
		//Init_Watchdog(3,1250);   //(prer,rlr)  Tout=((4*2^prer)*rlr)/40 (ms). = 1000ms
   	while(1) 
	  {   
				/*Get time flag**************/
			  Systim_Time_Run();        
        /*Receive external data******/
        Sys_Rece_Data();              
			  /*Data sent out**************/
			  Sys_Send_Data();
        /* Basic data acquisition****/  
        Get_Base_Data();
        /* Mied function processing**/
        Mix_Function_Pro();
        /*Clear time flag************/
        Clear_flag();
		}
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n1">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.237439999999992" width="128.3039999999999" x="238.97907790942457" y="621.5543714116218"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="62.15199999999993" y="6.118719999999939">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n2">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="104.0" width="422.9999999999998" x="-475.05597084057507" y="577.6730914116217"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="77.505859375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="384.806640625" x="19.096679687499886" xml:space="preserve" y="13.2470703125">void SW_JTAGioConfig(void)
{		
		RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO, ENABLE);
		GPIO_PinRemapConfig(GPIO_Remap_SWJ_JTAGDisable , ENABLE);
}  <y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n3">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="104.0" width="668.3124999999995" x="-720.3684708405749" y="454.34618282324357"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="92.20703125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="613.345703125" x="27.483398437499773" xml:space="preserve" y="5.896484375">void NVIC_Configuration(void)
{

    NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);	//ÉèÖÃNVICÖÐ¶Ï·Ö×é2:2Î»ÇÀÕ¼ÓÅÏÈ¼¶£¬2Î»ÏìÓ¦ÓÅÏÈ¼¶

}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n4">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.237439999999992" width="128.3039999999999" x="238.97907790942452" y="605.3169314116218"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="62.15199999999993" y="6.118720000000053">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n5">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.237439999999992" width="161.07199999999992" x="239.18769309884914" y="637.4837290632438"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="78.53599999999994" y="6.118719999999939">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n6">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="193.9999999999999" width="422.9999999999998" x="-720.3684708405749" y="700.9999999999999"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="165.712890625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="368.798828125" x="27.100585937499886" xml:space="preserve" y="14.143554687499886">void Init_GPIO_SYS_Power(void)
{
	 GPIO_InitTypeDef  GPIO_InitStructure;
	 RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE);	
	 	
	 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;	
	 GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP; 		
	 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
	 GPIO_Init(GPIOB, &amp;GPIO_InitStructure);	
	 GPIO_SetBits(GPIOB,GPIO_Pin_5);	
}	<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n7">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="52.75" width="148.3124999999999" x="-720.3684708405749" y="643.1301828232434"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="26" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="35.8525390625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="116.6962890625" x="15.80810546875" xml:space="preserve" y="8.44873046875">PowerON<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n8">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="463.5312499999998" width="510.8906249999998" x="-1289.8345979311496" y="700.9999999999998"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="415.6328125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="447.185546875" x="31.852539062499773" xml:space="preserve" y="23.949218749999773">void InitPara0(void)
{
	 gBMSConfig.DataLeng=sizeof(gBMSConfig);
   
   gBMSConfig.Type.CapaRate=200;      //¶î¶¨ÈÝÁ¿2.00AH
   gBMSConfig.Type.VoltSpec=18;       //µçÑ¹¹æ¸ñ
   gBMSConfig.Type.CellNum_Ser=5;     //´®Áª½ÚÊý
	 gBMSConfig.Type.CellNum_Par=1;     //²¢Áª½ÚÊý
   gBMSConfig.Type.TempNum=1;         //ÎÂ¶Èµã¸öÊý
   gBMSConfig.Type.ShuntSpec=5000;    //·ÖÁ÷Æ÷¹æ¸ñ5M¦¸
   gBMSConfig.Type.OCVDaleyTime=600;    
	
	 gBMSConfig.Balan.balanc_start_volt = 3000;
	 gBMSConfig.Balan.balanc_diffe_volt = 100;
	 gBMSConfig.Balan.balanc_number_max = 3;   
	 gBMSConfig.Balan.balanc_oneall_time = 900;	

   gBMSConfig.BQ76Para.SCD_Delay=0x03;
   gBMSConfig.BQ76Para.SCD_Thresh=0x07;
   gBMSConfig.BQ76Para.OCD_Delay=0x07;
   gBMSConfig.BQ76Para.OCD_Thresh=0x0F;
   gBMSConfig.BQ76Para.UV_Delay=0x03;
   gBMSConfig.BQ76Para.OV_Delay=0x03;
   gBMSConfig.BQ76Para.UV_Thresh=2500;
   gBMSConfig.BQ76Para.OV_Thresh=4200;
  
   gBMSConfig.DataCRC=0-DataCRC(gBMSConfig.DataLeng,(u8 *)&amp;gBMSConfig);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n9">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="12.462566400000014" width="161.07199999999992" x="239.18769309884908" y="653.7211690632438"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="78.53599999999994" y="4.231283200000007">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n10">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="58.0" width="166.99999999999977" x="-1570.7836083478162" y="700.9999999999998"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="151.392578125" x="7.803710937499773" xml:space="preserve" y="19.6494140625">sBMSConfig   gBMSConfig;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n11">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="17.37776640000004" width="261.42399999999986" x="-1260.8452237371425" y="758.2058205917351"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="128.712" y="6.688883199999964">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n12">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="190.0" width="270.99999999999955" x="-1942.167216695632" y="700.9999999999998"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="151.01171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="195.419921875" x="37.79003906249977" xml:space="preserve" y="19.494140625"> typedef struct BMSConfig{
   
   u8 DataLeng;
   sSystem_Type        Type;      
   sSystem_Balan       Balan ; 
   sSystem_BQ76Para    BQ76Para;
   u8  DataCRC;
  }sBMSConfig;

extern  sBMSConfig   gBMSConfig;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n13">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="178.79999999999995" width="384.5999999999997" x="-2326.7672166956318" y="374.4999999999999"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="SimHei" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="124.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="358.0" x="13.299999999999727" xml:space="preserve" y="27.399999999999977"> typedef struct System_Type
 {
		u64 CapaRate;      //µç³Ø°ü×ÜÈÝÁ¿  
		u8 VoltSpec;       // µç³Ø°ü×ÜÑ¹¹æ¸ñ
		u8 CellNum_Ser;    //µç³Ø°ü´®Êý
	 	u8 CellNum_Par;    //µç³Ø°ü²¢Êý
		u8 TempNum;        //µç³Ø°üÎÂ¶ÈÊýÁ¿
		u16 ShuntSpec;     //µç³Ø°ü·ÖÁ÷Æ÷¹æ¸ñ
		u16 OCVDaleyTime;   //¾²Ö¹Ö®ºó S/ÃëºóOCVÐ£×¼ 
  }sSystem_Type;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n14">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="149.19999999999993" width="218.19999999999982" x="-2326.7672166956318" y="551.7999999999998"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="SimHei" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="88.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="166.0" x="26.09999999999991" xml:space="preserve" y="30.600000000000023">typedef struct System_Balan
{ 
	u16 balanc_start_volt;
	u16 balanc_diffe_volt;
	u16 balanc_number_max;   
	u16 balanc_oneall_time;	
}sSystem_Balan;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n15">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="190.0" width="384.5999999999997" x="-2326.7672166956318" y="700.9999999999998"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="SimHei" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="124.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="334.0" x="25.299999999999727" xml:space="preserve" y="33.0"> typedef struct System_Alar_BQ76Para{
  u8 SCD_Delay;      //·Åµç¶ÌÂ·ÑÓÊ±Ê±¼ä
  u8 SCD_Thresh;     //·Åµç¶ÌÂ·ãÐÖµ
  u8 OCD_Delay;      //·Åµç¹ýÁ÷ÑÓÊ±
  u8 OCD_Thresh;     //·Åµç¹ýÁ÷ãÐÖµ
  u8 UV_Delay;       //µ¥ÌåÇ·Ñ¹ÑÓÊ±
  u8 OV_Delay;       //µ¥Ìå¹ýÑ¹ÑÓÊ±
  u16 UV_Thresh;     //µ¥ÌåÇ·Ñ¹ãÐÖµ
  u16 OV_Thresh;     //µ¥Ìå¹ýÑ¹ãÐÖµ     
 }sSystem_BQ76Para;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n16">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="208.28917500000023" width="694.4843749999997" x="-1289.8345979311496" y="1219.9531249999995"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="165.712890625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="664.486328125" x="14.999023437499773" xml:space="preserve" y="21.28814218750017">void Init_GPIO_LED(void)
{   
	 GPIO_InitTypeDef  GPIO_InitStructure;
	 RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA|RCC_APB2Periph_GPIOB|RCC_APB2Periph_GPIOC, ENABLE);	 

   GPIO_InitStructure.GPIO_Pin = GPIO_Pin_14;				 	
	 GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP; 		
	 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;		 
	 GPIO_Init(GPIOB, &amp;GPIO_InitStructure);					 
	 GPIO_SetBits(GPIOB,GPIO_Pin_14);	
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n17">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.39472640000008" width="136.16831999999997" x="239.18769309884908" y="696.1837354632438"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="66.08416" y="6.197363200000041">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n18">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="208.28917500000023" width="446.0468749999998" x="-1289.8345979311498" y="1458.2423"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="165.712890625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="368.798828125" x="38.6240234375" xml:space="preserve" y="21.28814218750017">void Init_GPIO_ALERT(void)
{
	 GPIO_InitTypeDef  GPIO_InitStructure;
	 RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE);	
		
	 //ALERT//
	 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_8;	
	 GPIO_InitStructure.GPIO_Mode=GPIO_Mode_IN_FLOATING;
	 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;	
	 GPIO_Init(GPIOB, &amp;GPIO_InitStructure);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n19">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="12.462566400000014" width="136.16831999999997" x="239.18769309884914" y="712.5784618632439"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="66.08416" y="4.231283200000007">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n20">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.237439999999992" width="198.01791999999992" x="239.18769309884914" y="725.041028263244"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="97.00895999999995" y="6.118719999999939">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n21">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="197.90624999999994" width="446.8281249999998" x="985.4452794845711" y="-19.515568749999744"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="165.712890625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="368.798828125" x="39.0146484375" xml:space="preserve" y="16.09667968749997">void Init_GPIO_BQ769xx_Wake(void)
{
	 GPIO_InitTypeDef  GPIO_InitStructure;
	 RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE);	
	 //Wake//
	 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_3;	
	 GPIO_InitStructure.GPIO_Mode=GPIO_Mode_Out_PP;
	 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;	
	 GPIO_Init(GPIOB, &amp;GPIO_InitStructure);
	 GPIO_ResetBits(GPIOB,GPIO_Pin_3);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n22">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="12.462566400000014" width="198.01791999999992" x="239.18769309884914" y="741.278468263244"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="97.00895999999995" y="4.231283200000007">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n23">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="197.90624999999994" width="446.8281249999998" x="985.4452794845711" y="197.14572739884994"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="165.712890625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="368.798828125" x="39.0146484375" xml:space="preserve" y="16.096679687499943">void Init_GPIO_R485EN(void)
{
	 GPIO_InitTypeDef  GPIO_InitStructure;
	 RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE);	
	 //R485EN//
	 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_15;	
	 GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP; 		
	 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
	 GPIO_Init(GPIOB, &amp;GPIO_InitStructure);	
   GPIO_ResetBits(GPIOB,GPIO_Pin_15); 	
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n24">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.39472640000008" width="166.81791999999993" x="239.18769309884914" y="753.741034663244"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="81.40895999999998" y="6.197363200000041">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n25">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="296.34374999999994" width="446.8281249999998" x="985.4452794845712" y="413.8070235476996"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="253.919921875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="365.46484375" x="40.681640624999886" xml:space="preserve" y="21.2119140625">void Init_GPIO_IIC(void ) 
{
		//IIC_DATA   IIC_SCK
	
	GPIO_InitTypeDef GPIO_InitStructure;
	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE);
	
	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_6;
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_OD;
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
	GPIO_Init(GPIOB, &amp;GPIO_InitStructure);
	
	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_7;
	GPIO_InitStructure.GPIO_Mode =GPIO_Mode_Out_OD;
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
	GPIO_Init(GPIOB, &amp;GPIO_InitStructure);
}
<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n26">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.39472640000008" width="119.63199999999992" x="239.1876930988492" y="783.741034663244"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="57.815999999999974" y="6.197363200000041">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n27">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="628.3749999999995" width="692.9218749999993" x="1554.0390294845715" y="-18.088647601149887"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="577.345703125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="631.12890625" x="30.896484374999545" xml:space="preserve" y="25.514648437499773">void Uart2_init(u32 bound)
{
    //GPIO¶Ë¿ÚÉèÖÃ
		USART_InitTypeDef USART_InitStructure;
		NVIC_InitTypeDef NVIC_InitStructure;
		GPIO_InitTypeDef  GPIO_InitStructure;
	  
	  USART_DeInit(USART2);  //¸´Î»´®¿Ú1
		RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA , ENABLE);
		RCC_APB1PeriphClockCmd(RCC_APB1Periph_USART2 , ENABLE);  //Ê¹ÄÜUSART1£¬GPIOAÊ±ÖÓ
	  
		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2;				 
		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP; 		
		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;		 
		GPIO_Init(GPIOA, &amp;GPIO_InitStructure);

		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_3;				 
		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING; 		 
		GPIO_Init(GPIOA, &amp;GPIO_InitStructure);
	
    //USART ³õÊ¼»¯ÉèÖÃ
		USART_InitStructure.USART_BaudRate = bound;//Ò»°ãÉèÖÃÎª9600;
		USART_InitStructure.USART_WordLength = USART_WordLength_8b;//×Ö³¤Îª8Î»Êý¾Ý¸ñÊ½
		USART_InitStructure.USART_StopBits = USART_StopBits_1;//Ò»¸öÍ£Ö¹Î»
		USART_InitStructure.USART_Parity = USART_Parity_No;//ÎÞÆæÅ¼Ð£ÑéÎ»
		USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;//ÎÞÓ²¼þÊý¾ÝÁ÷¿ØÖÆ
		USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;	//ÊÕ·¢Ä£Ê½
		USART_Init(USART2, &amp;USART_InitStructure); //³õÊ¼»¯´®¿Ú
    
   //Usart1 NVIC ÅäÖÃ
		NVIC_InitStructure.NVIC_IRQChannel = USART2_IRQn;
		NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=3 ;//ÇÀÕ¼ÓÅÏÈ¼¶3
		NVIC_InitStructure.NVIC_IRQChannelSubPriority = 3;		//×ÓÓÅÏÈ¼¶3
		NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;			//IRQÍ¨µÀÊ¹ÄÜ
		NVIC_Init(&amp;NVIC_InitStructure);	//¸ù¾ÝÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯VIC¼Ä´æÆ÷
		 
    USART_ITConfig(USART2, USART_IT_RXNE, ENABLE);//¿ªÆôÖÐ¶Ï
    USART_Cmd(USART2, ENABLE);                    //Ê¹ÄÜ´®¿Ú 
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n28">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="453.37499999999966" width="609.1718749999993" x="2333.589777719143" y="-18.088647601149887"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="371.529296875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="551.283203125" x="28.944335937499545" xml:space="preserve" y="40.92285156249983">void  Tim1_Init(u16 arr,u16 psc)
{ 
	TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
	NVIC_InitTypeDef NVIC_InitStructure;
  RCC_APB2PeriphClockCmd(RCC_APB2Periph_TIM1, ENABLE);	
 
  TIM_TimeBaseStructure.TIM_Period = arr;                    //    ´Ó×°±È½Ï×î´ó   18k  =   72000/ 6000= 12k 
  TIM_TimeBaseStructure.TIM_Prescaler = psc;
  TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;       //  Ä£Ê½  Ôö
  TIM_TimeBaseStructure.TIM_ClockDivision = 0;                 //  ·ÖÆµ
  TIM_TimeBaseStructure.TIM_RepetitionCounter = 0;      
  TIM_TimeBaseInit(TIM1, &amp;TIM_TimeBaseStructure);

	TIM_ClearFlag(TIM1, TIM_FLAG_Update);  
	TIM_ClearITPendingBit(TIM1, TIM_IT_Update);  //ÇåÖÐ¶Ï±êÖ¾Î»
  TIM_ITConfig(TIM1,TIM_IT_Update ,ENABLE); //´ò¿ªÖÐ¶Ï 
  TIM_Cmd(TIM1, ENABLE);//¼ÆÊý¿ªÊ¼               
	
	//ÅäÖÃTIM1µÄ¸üÐÂÖÐ¶ÏÊ¹ÄÜ
	NVIC_InitStructure.NVIC_IRQChannel = TIM1_UP_IRQn;
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 1;//Ö¸¶¨ÇÀÕ¼ÓÅÏÈ¼¶1
  NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;//Ö¸¶¨ÏìÓ¦ÓÅÏÈ¼¶0
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  NVIC_Init(&amp;NVIC_InitStructure);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n29">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.237439999999992" width="425.5519999999997" x="239.1876930988492" y="800.1357610632442"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="210.77599999999984" y="6.118719999999939">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n30">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.39472640000008" width="119.63199999999992" x="239.1876930988492" y="827.2615893264881"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="57.815999999999974" y="6.197363200000041">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n31">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="135.34374999999994" width="263.8281249999998" x="1076.945279484571" y="828.2544810632442"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="106.908203125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="151.919921875" x="55.9541015625" xml:space="preserve" y="14.2177734375">void  BQ769xx_Wake(void)
{
		//--------¼¤»î-------------------//
		BQ769xx_WAKE_ON;	
		delay_ms(1000);
		BQ769xx_WAKE_OFF;
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n32">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="135.34374999999994" width="291.98812499999985" x="1440.8905589691421" y="828.2544810632442"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="33.40234375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="253.1171875" x="19.435468749999927" xml:space="preserve" y="50.970703125">#define  BQ769xx_WAKE_ON      PBout(3)=1
#define  BQ769xx_WAKE_OFF     PBout(3)=0 <y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n33">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="417.375" width="263.828125" x="1768.9873679382843" y="828.2544810632439"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="312.724609375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="221.716796875" x="21.0556640625" xml:space="preserve" y="52.3251953125">void BQ769xx_Init(void)
{     
      u8  rcd=0;
      //--------ÉèÖÃµç³Ø ÎÂ¶È·Ö²¼------//
      BQ769xx_Set_CellMap();
     //---------²ÎÊý³õÊ¼»¯-------------//
      BQ769xx_Init_Para();
     //---------¶ÁÈ¡µçÑ¹ÔöÒæºÍÆ«ÖÃ-----//
      BQ769xx_Read_Gain();
     //----------²ÎÊýÅäÖÃ--------------//
      rcd=BQ769xx_Write_Config();
	    
      if(rcd==gRET_OK)
      {
          BQ769xx_Init_State=1;
      }
      else
      {
          BQ769xx_Init_State=0;
      }
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n34">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="14.71700480000004" width="119.63199999999992" x="239.1876930988492" y="843.6563157264882"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="57.815999999999974" y="5.35850240000002">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n35">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="19.671526400000175" width="161.24735999999993" x="1806.9381351874229" y="940.5202936699113"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="78.62367999999992" y="7.835763200000088">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n36">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="19.671526400000175" width="161.24735999999993" x="1806.9381351874229" y="966.9445873398226"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="78.62367999999992" y="7.835763200000088">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n37">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="19.671526400000175" width="161.24735999999993" x="1806.9381351874229" y="997.2704546632438"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="78.62367999999992" y="7.835763200000088">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n38">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="19.671526400000175" width="169.42625280000001" x="1809.2789407496916" y="1031.0811746796453"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="82.71312639999996" y="7.835763200000201">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n39">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="329.05500000000006" width="263.828125" x="2381.964735876568" y="785.8285568699114"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="283.322265625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="242.44140625" x="10.693359375" xml:space="preserve" y="22.866367187499918">void  BQ769xx_Set_CellMap(void)
{

   switch(gBMSConfig.Type.CellNum_Ser)
   {
     case 5:  //5´®
        gBMSData.BattPar.Cells_Map=0x001F;
        break;
     case 4:  //4´®
        gBMSData.BattPar.Cells_Map=0x0017;
        break;
		 case 3:  //3´®
        gBMSData.BattPar.Cells_Map=0x0013;
        break;
      default: //5´®
        gBMSData.BattPar.Cells_Map=0x001F;
        break;
   }     
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n40">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="304.05500000000006" width="579.453125" x="2381.964735876568" y="1144.8835568699114"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="268.62109375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="516.54296875" x="31.455078125" xml:space="preserve" y="17.716953125000146">void BQ769xx_Init_Para(void)
{
      Bq769xxReg.SysCtrl1.SysCtrl1Bit.ADC_EN=ADC_ENS;    //
      Bq769xxReg.SysCtrl1.SysCtrl1Bit.TEMP_SEL=EXTE_TEMP_ON;  //
      Bq769xxReg.SysCtrl2.SysCtrl2Bit.DELAY_DIS=ALARM_DELAY_ON; //
      //Bq769xxReg.SysCtrl2.SysCtrl2Bit.CC_EN=CC_CONTINU_DIS;     
			Bq769xxReg.SysCtrl2.SysCtrl2Bit.CC_EN=CC_CONTINU_EN;     
      Bq769xxReg.SysCtrl2.SysCtrl2Bit.CHG_ON=CHG_OFF;    //
      Bq769xxReg.SysCtrl2.SysCtrl2Bit.DSG_ON=DSG_OFF;    //
	
      Bq769xxReg.Protect1.Protect1Bit.RSNS=OCD_SCD_HIGH_RANGE;  //
      Bq769xxReg.Protect1.Protect1Bit.SCD_DELAY = gBMSConfig.BQ76Para.SCD_Delay;   //
      Bq769xxReg.Protect2.Protect2Bit.OCD_DELAY = gBMSConfig.BQ76Para.OCD_Delay;   //
      Bq769xxReg.Protect1.Protect1Bit.SCD_THRESH =gBMSConfig.BQ76Para.SCD_Thresh; //
      Bq769xxReg.Protect2.Protect2Bit.OCD_THRESH = gBMSConfig.BQ76Para.OCD_Thresh; //
      Bq769xxReg.Protect3.Protect3Bit.OV_DELAY = gBMSConfig.BQ76Para.OV_Delay;     //
      Bq769xxReg.Protect3.Protect3Bit.UV_DELAY = gBMSConfig.BQ76Para.UV_Delay;     //  
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n41">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="344.05500000000006" width="1054.453125" x="2381.964735876568" y="1478.9385568699113"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="298.0234375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="1010.119140625" x="22.1669921875" xml:space="preserve" y="23.015781250000146">void BQ769xx_Read_Gain(void)
{
      u8  rcd=0;
      rcd= IIC_ReadByte(BQ769xxAddr, ADCGAIN1_RegAddr, &amp;Bq769xxReg.ADCGain1.ADCGain1Byte  );
      rcd= IIC_ReadByte(BQ769xxAddr, ADCGAIN2_RegAddr,  &amp;Bq769xxReg.ADCGain2.ADCGain2Byte );
      rcd= IIC_ReadByte(BQ769xxAddr, ADCOFFSET_RegAddr, &amp;Bq769xxReg.ADCOffset);
			
      VoltCellGainUV = (365 + ((Bq769xxReg.ADCGain1.ADCGain1Byte &amp; 0x0C) &lt;&lt; 1) + ((Bq769xxReg.ADCGain2.ADCGain2Byte &amp; 0xE0)&gt;&gt; 5));
      VoltCellGainMV = (365 + ((Bq769xxReg.ADCGain1.ADCGain1Byte &amp; 0x0C) &lt;&lt; 1) + ((Bq769xxReg.ADCGain2.ADCGain2Byte &amp; 0xE0)&gt;&gt; 5))/1000;
      VoltCellOffSet=Bq769xxReg.ADCOffset;
			
      gBMSConfig.BQ76Para.OV_Thresh=LimitMaxMin(gBMSConfig.BQ76Para.OV_Thresh,OV_THRESH_MAX,OV_THRESH_MIN);
      gBMSConfig.BQ76Para.UV_Thresh=LimitMaxMin(gBMSConfig.BQ76Para.UV_Thresh,UV_THRESH_MAX,UV_THRESH_MIN);
	  			
      Bq769xxReg.OVTrip = (u8)(((((unsigned long)(gBMSConfig.BQ76Para.OV_Thresh - Bq769xxReg.ADCOffset)*1000)/VoltCellGainUV - OV_THRESH_BASE)&gt;&gt;4)&amp;0xff);   //???????4180
      Bq769xxReg.UVTrip = (u8)(((((unsigned long)(gBMSConfig.BQ76Para.UV_Thresh - Bq769xxReg.ADCOffset)*1000)/VoltCellGainUV - UV_THRESH_BASE)&gt;&gt;4)&amp;0xff);   //???????  3200
      Bq769xxReg.CCCfg=0x19;

	    (void) rcd;
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n42">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="654.1135937500001" width="868.9062500000005" x="2381.964735876568" y="1852.9935568699116"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="621.44921875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="774.185546875" x="47.3603515625" xml:space="preserve" y="16.332187500000146">u8 BQ769xx_Write_Config(void)
{       
     u8  ret=0;
     u8  rcd=0;
     u8  Count=0;  
     u8  err=0; 
     u8  bqSysCtrProtectionConfig[11]={0};  
     do{   
         rcd=IIC_WritByteMore(BQ769xxAddr, SYS_CTRL1_RegAddr, &amp;(Bq769xxReg.SysCtrl1.SysCtrl1Byte), 8);    //?????????
         rcd =IIC_ReadByteMore(BQ769xxAddr, SYS_CTRL1_RegAddr, bqSysCtrProtectionConfig, 8);
         // rcd=IIC_WritByteMore(BQ769xxAddr, CELLBAL1_RegAddr, &amp;(Bq769xxReg.CellBal1.CellBal1Byte), 11);    //?????????
        //  rcd =IIC_ReadByteMore(BQ769xxAddr, CELLBAL1_RegAddr, bqSysCtrProtectionConfig, 11);
			 
         if(bqSysCtrProtectionConfig[0]!=Bq769xxReg.SysCtrl1.SysCtrl1Byte || bqSysCtrProtectionConfig[1]!=Bq769xxReg.SysCtrl2.SysCtrl2Byte 
             ||bqSysCtrProtectionConfig[2] != Bq769xxReg.Protect1.Protect1Byte||bqSysCtrProtectionConfig[3] != Bq769xxReg.Protect2.Protect2Byte
             || bqSysCtrProtectionConfig[4] != Bq769xxReg.Protect3.Protect3Byte|| bqSysCtrProtectionConfig[5] != Bq769xxReg.OVTrip
             || bqSysCtrProtectionConfig[6] != Bq769xxReg.UVTrip || bqSysCtrProtectionConfig[7] != Bq769xxReg.CCCfg )
          {
              err++;
          }
         Count++;
      }while((err!=0)&amp;&amp;(Count&lt;5)); 
     
     if((err==0)||(Count&lt;5))
     {
          ret=gRET_OK;
     }
     else
     {
          ret=gRET_NG;
          Bq769xxReg.SysCtrl1.SysCtrl1Byte=0;
          Bq769xxReg.SysCtrl2.SysCtrl2Byte=0;
          Bq769xxReg.Protect1.Protect1Byte=0;
          Bq769xxReg.Protect2.Protect2Byte=0;
          Bq769xxReg.Protect3.Protect3Byte=0;
          Bq769xxReg.OVTrip=0;
          Bq769xxReg.UVTrip=0;
          Bq769xxReg.CCCfg=0; 
     }
		 (void) rcd;
     return  ret;  
}		 <y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n43">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="14.717004800000154" width="143.95896319999989" x="239.1876930988492" y="858.3733205264882"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="69.97948159999993" y="5.358502400000134">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n44">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="218.54687499999994" width="931.441249999999" x="1101.3742429382853" y="1302.4050635787885"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="151.01171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="879.115234375" x="26.163007812499472" xml:space="preserve" y="33.767578125">void  batt_cap_ocvsoc_init(void)
{
	 gBMSData.BattPar.SOCSys = 1000;
	
	 gBMSData.PackCap.pack_rated_cap=gBMSConfig.Type.CapaRate*gBMSConfig.Type.CellNum_Par*CNT_H_200MS_NUM;  //µç³Ø±ê³ÆÈÝÁ¿ µ¥Î»   10mA/200ms
	
	 gBMSData.PackCap.pack_real_cap=gBMSData.PackCap.pack_rated_cap;    //Êµ¼ÊÈÝÁ¿=¶î¶¨ÈÝÁ¿    µ¥Î»   10mA/200ms 
	 
	 gBMSData.PackCap.pack_rem_cap=gBMSData.PackCap.pack_real_cap*gBMSData.BattPar.SOCSys/1000;     //µç³ØÊµÊ±Ê£ÓàÈÝÁ¿     µ¥Î»   10mA/200ms 
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n45">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="14.717004800000154" width="326.2309631999998" x="239.1876930988492" y="873.6563157264882"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="161.1154815999999" y="5.358502400000134">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n46">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="263.4687499999997" width="234.17562499999917" x="1101.3742429382855" y="1577.727521094333"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="209.81640625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="169.3984375" x="32.38859374999947" xml:space="preserve" y="26.826171874999773">typedef struct BMSData{
   sBattPar      BattPar; 
   sChargePar    ChargePar;
   sStatePar     StatePar;
	 sbalaPar			 BalaPar;
	 sPackCap      PackCap;
   sAlarmPar     AlarmPar;
   sErrorPar     ErrorPar;   
   sSys_Mod      Sys_Mod;
	 sSoftw_Ver    Softw_Ver;
	 sGpio_State   Gpio_State;
  }sBMSData;

extern  sBMSData  gBMSData;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n47">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="263.4687499999997" width="234.17562499999917" x="1426.007055438285" y="1577.727521094333"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="253.919921875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="224.072265625" x="5.0516796874994725" xml:space="preserve" y="4.774414062499773">typedef struct BattPar{
  
  u16 VoltLine;
  i16 CurrLine;
  u16 VoltCell[PACK_CELL_MAX];
  u16 VoltCellDiff;
  u16 VoltCellMax;
  u16 VoltCellMin;
  u16 TempCell[PACK_TEMPEXT_MAX];
  u16 TempPackDiff;
  i16 TempPackMax;
  i16 TempPackMin;
  u16 SOCSys;
  u16 SOCcell[PACK_CELL_MAX];
  u32 CapSoc[PACK_CELL_MAX];
  u16 Cells_Map;
  }sBattPar;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n48">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="85.46874999999972" width="234.17562499999917" x="1426.007055438285" y="1841.1962710943328"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="62.8046875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="141.408203125" x="46.38371093749947" xml:space="preserve" y="11.332031249999773">typedef struct ChargePar{
  u16 Volt;
  u16 Curr;
}sChargePar;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n49">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="85.46874999999972" width="234.17562499999917" x="1426.0070554382849" y="1926.6650210943326"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="77.505859375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="136.0703125" x="49.0526562499997" xml:space="preserve" y="3.9814453124997726">typedef struct sStatePar{
  
  u8  RelayDichSW;
  u8  RelayChSW;
}sStatePar;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n50">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="143.8687499999998" width="234.17562499999917" x="1426.007055438285" y="2012.1337710943326"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="121.609375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="130.73828125" x="51.71867187499947" xml:space="preserve" y="11.129687499999818">typedef struct sbalaPar{
	u16 bala_dischg;         
	u32 bala_ctrl_sw;          
	u32 bala_ctrl_dr;          
	u8 Bala_force_on;
	u8 bala_state;
	u8 bala_error;	 
}sbalaPar;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n51">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="186.3687499999998" width="409.1756249999992" x="1426.007055438285" y="2156.002521094332"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="136.310546875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="356.44140625" x="26.367109374999472" xml:space="preserve" y="25.029101562499818">typedef struct PackCap{
	u32  pack_rated_cap;      //±ê³ÆÈÝÁ¿  ¶î¶¨ÂúÈÝÁ¿
	u32  pack_real_cap;       //Êµ¼ÊÈÝÁ¿  ²»Í¬ÎÂ¶ÈÏÂÊµ¼ÊÈÝÁ¿²»Í¬
	u32  pack_rem_cap; 				//Ê£ÓàÈÝÁ¿  
	u32  pack_chg_max_cap;    
	u32  pack_dsg_max_cap;
	u32  pack_cap_dischg;    //·Åµç°²Ê±ÀÛ¼Æ
  u32  pack_cap_chg;       //³äµç°²Ê±ÀÛ¼Æ
}sPackCap;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n52">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="292.3062499999998" width="234.17562499999917" x="1426.007055438285" y="2342.371271094332"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="268.62109375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="133.38671875" x="50.39445312499947" xml:space="preserve" y="11.842578124999818">typedef struct AlarmPar{
  
   u8 OVP;
   u8 UVP;
   u8 OCP;
   u8 UCP;
   u8 OTP;
   u8 UTP;
   u8 USOC;
   u8 OVLP;
   u8 UVLP;
   
   u8 SCD_BQ;
   u8 OCD_BQ;
   u8 UV_BQ;
   u8 OV_BQ;  
   
  }sAlarmPar;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n53">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="139.80625000000026" width="234.17562499999917" x="1426.007055438285" y="2634.6775210943315"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="106.908203125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="128.716796875" x="52.72941406249947" xml:space="preserve" y="16.449023437500273">typedef struct ErrorPar{
  
  u8 I2C_Err;
  u8 Uart_Err;
  u8 RelayCh_Err;
  u8 RelayDich_Err;
  }sErrorPar;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n54">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="139.80625000000026" width="234.17562499999917" x="1426.007055438285" y="2774.4837710943316"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="92.20703125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="133.3984375" x="50.38859374999947" xml:space="preserve" y="23.799609375000273">typedef struct Sys_Mod{
  
  u8 sys_mode;
  u8 bms_mode;
  u8 test_mode;
	}sSys_Mod;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n55">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="139.80625000000026" width="234.17562499999917" x="1426.007055438285" y="2914.2900210943317"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="106.908203125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="138.0625" x="48.05656249999947" xml:space="preserve" y="16.449023437500273">typedef struct Softw_Ver 
{
	u8 ver_main;
	u8 ver_sub1;
	u8 ver_sub2;
	u8 ver_sub3;
	}sSoftw_Ver;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n56">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="139.80625000000026" width="234.17562499999917" x="1426.007055438285" y="3054.0962710943318"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="92.20703125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="139.416015625" x="47.37980468749947" xml:space="preserve" y="23.799609375000273">typedef struct Gpio_State
{
	u8 IN0_State;
	u8 Charge_Activa_State;
	u8 BQ769xx_Alert_State;
}sGpio_State;<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n57">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="30.969932800000038" width="170.13841066666654" x="237.4975835310317" y="929.6656511897322"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="83.06920533333329" y="13.484966400000076">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n58">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="850.9454250000002" width="318.6249999999998" x="-871.5891739655749" y="1796.1017874999995"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="797.86328125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="236.095703125" x="41.264648437499886" xml:space="preserve" y="26.54107187500017">void Systim_Time_Run(void)
{
		if(TaskTimePare.Tim10ms_count&gt;=10)
    {          
				TaskTimePare.Tim10ms_count=0;
				TaskTimePare.Tim10ms_flag = 1;
				if(++TaskTimePare.Tim100ms_count &gt;=10)
				{
						TaskTimePare.Tim100ms_count=0;
						TaskTimePare.Tim100ms_flag=1;
				}
    }
		if(TaskTimePare.Tim100ms_flag==1)
		{
				if(++TaskTimePare.Tim200ms_count &gt;=2)
				{	      
						TaskTimePare.Tim200ms_count=0;
						TaskTimePare.Tim200ms_flag=1;
				}
		}
		
    if(TaskTimePare.Tim100ms_flag==1)
		{		   		 
				if(++TaskTimePare.Tim500ms_count &gt;=5)
				{	      
						TaskTimePare.Tim500ms_count=0;
						TaskTimePare.Tim500ms_flag=1;
				}
		}
		if(TaskTimePare.Tim500ms_flag==1)
		{            
				if(++TaskTimePare.Tim1s_count &gt;=2)
				{	               
					 TaskTimePare.Tim1s_count=0;
					 TaskTimePare.Tim1s_flag=1;
				}
		}
		if(TaskTimePare.Tim1s_flag == 1)
		{      
				if(++TaskTimePare.Tim10s_count &gt;=10)
				{
						TaskTimePare.Tim10s_count = 0;
						TaskTimePare.Tim10s_flag = 1;
				}
		} 
		if(TaskTimePare.Tim10s_flag == 1)
		{                   
				if(++TaskTimePare.Tim1min_count &gt;=6)
				{
						TaskTimePare.Tim1min_count = 0;
						TaskTimePare.Tim1min_flag = 1;
				}
		}	 
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n59">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="208.28917500000023" width="462.0468749999998" x="-1495.6691958622996" y="1796.1017874999995"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="151.01171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="427.85546875" x="17.095703125" xml:space="preserve" y="28.63872812500017">void TIM1_UP_IRQHandler(void)// ´¥·¢ADCÖÐ¶Ï²ÉÑùºÍµç»ú»·Â·¿ØÖÆ  0.1MS
{
	  //´Ë³ÌÐò¸üÐÂÖÐ¶ÏÒ»Ö±Ö´ÐÐ
		if(TIM_GetITStatus(TIM1, TIM_IT_Update)!=RESET)       
    {   
				TIM_ClearFlag(TIM1, TIM_IT_Update); 
				
				TaskTimePare.Tim10ms_count++;	
		}
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n60">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="30.969932800000038" width="170.13841066666654" x="262.0969270620634" y="960.3313023794644"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="83.06920533333329" y="13.484966400000076">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n61">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="83.48917500000027" width="259.6468749999999" x="-456.32960266209966" y="1796.1017874999995"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="62.8046875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="146.06640625" x="56.790234374999955" xml:space="preserve" y="10.34224375000008">void Sys_Rece_Data(void)
{
	Uart2Run_Pack();
}
<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n62">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="1271.5704250000003" width="834.2499999999994" x="-456.32960266209966" y="1927.6857103718703"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="1209.49609375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="503.41796875" x="165.41601562499972" xml:space="preserve" y="31.037165624999943">void Uart2Run_Pack(void)
{   
		unsigned char ia=0;
    if(RBDown2!=RBUp2)	         //Uart0 Function UartSD0
    {   ia=Uart2Recv[RBDown2++];		
        if(RBDown2&gt;= UARTNunD)
				{
						RBDown2=0;
				}
        switch(Uart2Stt)
        {
        case 0:	
                if(ia==START_SYMBOL)		 //接收起始字节
                {		Uart2Stt=1;
		Uart2ACC=ia;	//累加数据，用于CRC校验。
		Uart2CntR=0;	//当前接收到的数据个数
		Uart2RecvBuf[Uart2CntR]=ia; //有效数据放入缓冲区
		Uart2CntR=1; //当前接收到的数据个数
		 Uart1ErrCountTime|=0x8000;  //开始计时
                }
                else
                {		Uart2_State|=0x01; //没有接收到起始字节
		Uart2CntR=0;
		Uart2Stt=0;
		Uart2ACC=0;
		  Uart1ErrCountTime&amp;=~0x8000;  //停止计时
                }
                break;	
        case 1:	 //从机地址	
                Uart2Stt++;	  													  
                Uart2ACC+=ia;
                Uart2RecvBuf[Uart2CntR]=ia;									  										
                Uart2CntR++;
                Uart2ErrCountTime&amp;=~0x7fff;  //计时清零   
                break;									
        case 2: //功能指令码
                Uart2Stt++;	  																	  
                Uart2ACC+=ia;
                Uart2RecvBuf[Uart2CntR]=ia;									  										
                Uart2CntR++;
                Uart2ErrCountTime&amp;=~0x7fff;  //计时清零  
                break;																					
        case 3:	
								Uart2Stt++;
                Uart2ACC+=ia;
                Uart2RecvBuf[Uart2CntR]=ia;
                Uart2CntTT=ia+5; //数据个数：起始字节+源地址字节+功能字节+数据长度+校验字节
                Uart2CntR++;
                Uart2ErrCountTime&amp;=~0x7fff;  //¼ÆÊ±ÇåÁã            
                break;																											
        case 4:	
								Uart2ACC+=ia;
                Uart2RecvBuf[Uart2CntR]=ia;	
                Uart2CntR++;
								Uart2ErrCountTime&amp;=~0x7fff;  //¼ÆÊ±ÇåÁã    
                if(Uart2CntR&gt;=Uart2CntTT)	//Êý¾Ý¸öÊýÐ£Ñé
                {			
											Uart2Stt=0;
											Uart2ErrCountTime=0;  //¼ÆÊ±Í£Ö¹ 
											if(Uart2ACC==0)	//CRCÐ£Ñé
											{      
													Rs485_Read_Data(Uart2RecvBuf,sizeof(Uart2RecvBuf) );
											 }
											 else
											 {			
														Uart2CntR=0;
														Uart2Stt=0;
														Uart2ACC=0;
														Uart2_State |=0x02;	//CRC   
											 }
                }              
                break;
        default:
                Uart2CntR=0;
                Uart2Stt=0;
                Uart2ACC=0;
                
                Uart2_State |=0x04;//
                break;
       } 	
    }
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n63">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="83.48917500000027" width="259.6468749999999" x="401.1414196758005" y="1927.6857103718703"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="62.8046875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="146.078125" x="56.78437500000001" xml:space="preserve" y="10.34224375000008">void Sys_Send_Data(void)
{
	//Rs485_Send_Test();
}			<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n64">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="30.969932800000038" width="170.13841066666654" x="237.4975835310317" y="990.6626047589289"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="83.06920533333329" y="13.484966400000076">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n65">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="27.56206080000004" width="174.5948586666665" x="253.22622353103168" y="1021.3252095178577"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="85.29742933333324" y="11.781030399999963">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n66">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="164.28917500000023" width="259.6468749999999" x="401.1414196758005" y="2028.1874978718697"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="106.908203125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="144.7421875" x="57.45234375000001" xml:space="preserve" y="28.690485937499943">void Get_Base_Data(void)
{
		BQ769xx_GetData();
	  BQ769xx_GetConfig();
	  Balan_Pack_Check();
		Led_Run_Cpu();
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n67">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="30.969932800000038" width="179.91965866666655" x="253.22622353103168" y="1048.8872703178577"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="87.95982933333329" y="13.484966400000076">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n68">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="164.28917500000023" width="259.6468749999999" x="786.7515893516007" y="2028.1874978718697"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="106.908203125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="156.0625" x="51.792187499999955" xml:space="preserve" y="28.690485937499943">void Mix_Function_Pro(void)
{	  
		BQ769xx_Oper_Comm();
	  BQ769xx_Wake_Comm();
		Sys_Function_Pro();
		Batt_soc_check();
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n69">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="164.28917500000023" width="259.6468749999999" x="190.0" y="1230.840528285737"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="151.01171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="231.35546875" x="14.145703124999955" xml:space="preserve" y="6.638728125000171">void Clear_flag(void)   //Çå³ýÊÂ¼þ±êÖ¾Î»
{
	TaskTimePare.Tim10ms_flag=0;
	TaskTimePare.Tim100ms_flag=0;
	TaskTimePare.Tim200ms_flag=0;
	TaskTimePare.Tim500ms_flag=0;
	TaskTimePare.Tim1s_flag=0;
	TaskTimePare.Tim10s_flag=0;
	TaskTimePare.Tim1min_flag=0;
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n70">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="30.969932800000038" width="179.91965866666655" x="253.22622353103168" y="1079.7745406357153"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="87.95982933333329" y="13.484966400000076">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n71">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="1139.7344875000003" width="961.2031249999993" x="-519.8061651620997" y="3404.2310913827782"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="1003.6796875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="834.015625" x="63.59374999999966" xml:space="preserve" y="68.0274000000004">void BQ769xx_GetData(void) 
{   
		u8  rcd=0;
		u8  ia=0,ib=0;
		u16 cells_map=gBMSData.BattPar.Cells_Map;
		u8  VoltOffset=0;     
		u16 AdcCurr=0;

    if(TaskTimePare.Tim200ms_flag != 1)
    {
					return;
		}

		//---------------------发起I2C读操作，从BQ76920中读回数据-------------------------------//
		rcd= IIC_ReadByteMore(BQ769xxAddr, VC1_HI_RegAddr, BQ769xxGatherData,40);   //.VCell1.VCell1Byte.VC1_HI
		if( rcd==gRET_OK )
		{
			memcpy(&amp;(Bq769xxReg.VCell1.VCell1Byte.VC1_HI), BQ769xxGatherData, 40);
		}
	 //--------------------------??????-----------------------------------//        
		for(ia=0;ia&lt;SYS_CELL_MAX;ia++)
		{   
				if(cells_map&amp;0x01)
				{
						if(Bq769xxReg.ADCOffset&amp;0x80)
						{
								VoltOffset= 0x100-Bq769xxReg.ADCOffset;
								gBMSData.BattPar.VoltCell[ib]=(u16)(((unsigned long)((BQ769xxGatherData[ia*2]*256)+BQ769xxGatherData[ia*2+1])*VoltCellGainUV)/1000-VoltOffset);
						}
						else
						{       
								VoltOffset= Bq769xxReg.ADCOffset; 
								gBMSData.BattPar.VoltCell[ib]=(u16)(((unsigned long)((BQ769xxGatherData[ia*2]*256)+BQ769xxGatherData[ia*2+1])*VoltCellGainUV)/1000+VoltOffset);
						}
						ib++;
				}
				cells_map=cells_map&gt;&gt;1;
		}

		//-----------------------------?????-----------------------------------//
		gBMSData.BattPar.VoltLine=(u16)(((unsigned long)((BQ769xxGatherData[30]*256)+BQ769xxGatherData[31])*BATVOLTLSB)/1000);   //MV
		//-----------------------------????-----------------------------------//
		
		for(ia=0;ia&lt;SYS_TEMPEXT_MAX;ia++)
		{   
				 VoltageTemp[ia]=((unsigned long)((BQ769xxGatherData[ia*2+32]*256)+BQ769xxGatherData[ia*2+32+1])*382)/1000;
				 gBMSData.BattPar.TempCell[ia]=TemChange(VoltageTemp[ia]);
		}
		 
		//-----------------------------?????---------------------------------//     
		AdcCurr=(u16)(BQ769xxGatherData[38]*256)+BQ769xxGatherData[39];

		if(AdcCurr&amp;0x8000)
		{
				AdcCurr=0x10000-AdcCurr;
				gBMSData.BattPar.CurrLine=0x10000-(u16)(((unsigned long) AdcCurr*CRUUVOLTLSB)/gBMSConfig.Type.ShuntSpec) ;   //LBS=8.44uV , ²ÉÑùµç×è£º5mO
		}
		else
		{
				gBMSData.BattPar.CurrLine=(u16)(((unsigned long)AdcCurr*CRUUVOLTLSB)/gBMSConfig.Type.ShuntSpec) ;   //LBS=8.44uV , ²ÉÑùµç×è£º5mO
				
		}

		pack_temp_max_min();
		pack_cell_max_min();
		
		(void) rcd;																																					
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n72">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="263.17198750000034" width="534.3281249999997" x="-1220.06218994334" y="3842.5123413827782"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="195.115234375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="485.23046875" x="24.548828124999773" xml:space="preserve" y="34.0283765625004">void BQ769xx_GetConfig(void) 
{
		u8  rcd=0;
		u8  BQ769xxGatherConfig[12]={0};
		if(TaskTimePare.Tim500ms_flag==1 )
    {
				rcd= IIC_ReadByteMore(BQ769xxAddr, SYS_STAT_RegAddr, BQ769xxGatherConfig,12);
				if( rcd==gRET_OK )
				{
					memcpy(&amp;(Bq769xxReg.SysStatus.StatusByte), BQ769xxGatherConfig, 12);
				}
		}
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n73">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="1836.1094875000003" width="1090.536458333333" x="-2476.5265480579137" y="3056.0435913827787"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="1768.140625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="975.982421875" x="57.277018229166515" xml:space="preserve" y="33.98443124999994">u8 Balan_Pack_Check(void)
{   
    u8 ret=gRET_OK;
    u8 ia=0;
	  u8 ib=0;
		u16 volta_temp;
		u8 volta_flag;

	  static u8 stup_balan=0;
		static u16 volta_cell_sort[PACK_CELL_MAX] = {0}; 
		static u8 volta_flag_sort[PACK_CELL_MAX] = {0};
		static u16 balanwait_cnt=0;
	  static u16 balantime_cnt=0;
		
		
    if(TaskTimePare.Tim200ms_flag==0)
    {
      return gRET_TM;
    }
     
	  if(gBMSData.BalaPar.Bala_force_on == 1)
		{
				return gRET_NG;
		}
		
    switch(stup_balan)
    {   
			case PCB_SEQ_INIT:
				gBMSData.BalaPar.bala_state = 0;
				gBMSData.BalaPar.bala_ctrl_sw = 0;
				gBMSData.BalaPar.bala_dischg=0;
			
				Bq769xxReg.CellBal1.CellBal1Byte=0;
				Bq769xxReg.CellBal2.CellBal2Byte=0;
				Bq769xxReg.CellBal3.CellBal3Byte=0;
				balance_write_regs(Bq769xxReg.CellBal1.CellBal1Byte, Bq769xxReg.CellBal2.CellBal2Byte, Bq769xxReg.CellBal3.CellBal3Byte ); 
				stup_balan = PCB_SEQ_WAIT;
				break;		
			case PCB_SEQ_WAIT:
				if(++balanwait_cnt &gt; 10)
				{
						balanwait_cnt = 0;
						stup_balan = PCB_SEQ_CHK;
				}
				break;
			case PCB_SEQ_CHK:
				if(gBMSData.Sys_Mod.sys_mode != SYS_MODE_STANDBY)
				{
						stup_balan = PCB_SEQ_INIT;
						break;
				}
				if(((gBMSData.BattPar.VoltCellMax - gBMSData.BattPar.VoltCellMin) &lt; gBMSConfig.Balan.balanc_diffe_volt)||(gBMSData.BattPar.VoltCellMin &lt; gBMSConfig.Balan.balanc_start_volt))
				{
						stup_balan = PCB_SEQ_INIT;
						break;
				}
				stup_balan = PCB_SEQ_SELECT;
				break;
			case PCB_SEQ_SELECT:

			    for(ia=0;ia&lt;gBMSConfig.Type.CellNum_Ser; ia++)  
					{
							volta_cell_sort[ia] = gBMSData.BattPar.VoltCell[ia];
							volta_flag_sort[ia] = ia; 
					}
          for(ia=0;ia&lt;gBMSConfig.Type.CellNum_Ser; ia++)   
				  {
							for(ib=0;ib&lt;(gBMSConfig.Type.CellNum_Ser -1); ib++)   
							{
									if(volta_cell_sort[ib] &lt; volta_cell_sort[ib+1])
									{
											volta_temp = volta_cell_sort[ib+1];
											volta_cell_sort[ib+1] = volta_cell_sort[ib];
											volta_cell_sort[ib] = volta_temp;
										
											volta_flag = volta_flag_sort[ib+1];
											volta_flag_sort[ib+1] = volta_flag_sort[ib];
											volta_flag_sort[ib] = volta_flag;
									}
							}
					}
					for(ia = 0; ia &lt; gBMSConfig.Balan.balanc_number_max; ia++)
					{
							gBMSData.BalaPar.bala_ctrl_sw |= (0x00000001 &lt;&lt; volta_flag_sort[ia]);
					}
					stup_balan = PCB_SEQ_MAP;
          break;
        case PCB_SEQ_MAP:  
					cell_balan_locatget(gBMSData.BalaPar.bala_ctrl_sw, &amp;gBMSData.BalaPar.bala_dischg);
					stup_balan = PCB_SEQ_SET;
          break;
        case PCB_SEQ_SET:
 
					Bq769xxReg.CellBal1.CellBal1Byte=gBMSData.BalaPar.bala_dischg&amp;0x1F;
					Bq769xxReg.CellBal2.CellBal2Byte=(gBMSData.BalaPar.bala_dischg&gt;&gt;5)&amp;0x1F;
					Bq769xxReg.CellBal3.CellBal3Byte=(gBMSData.BalaPar.bala_dischg&gt;&gt;10)&amp;0x1F;
					balance_write_regs( Bq769xxReg.CellBal1.CellBal1Byte, Bq769xxReg.CellBal2.CellBal2Byte, Bq769xxReg.CellBal3.CellBal3Byte ); 
				  gBMSData.BalaPar.bala_state = 1;
					stup_balan=PCB_SEQ_BALA_TIM;
          break;
        case PCB_SEQ_BALA_TIM:
					if(++balantime_cnt&gt;900)  
          {
							stup_balan = PCB_SEQ_INIT;
              balantime_cnt=0;
							gBMSData.BalaPar.bala_state = 0;
							gBMSData.BalaPar.bala_ctrl_sw = 0;
							gBMSData.BalaPar.bala_dischg=0;
						
							Bq769xxReg.CellBal1.CellBal1Byte=0;
							Bq769xxReg.CellBal2.CellBal2Byte=0;
							Bq769xxReg.CellBal3.CellBal3Byte=0;
							balance_write_regs( Bq769xxReg.CellBal1.CellBal1Byte, Bq769xxReg.CellBal2.CellBal2Byte, Bq769xxReg.CellBal3.CellBal3Byte ); 
          }
          break;
        default:
          break;  
     }
     return ret;
}
<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n74">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="183.17198750000034" width="368.07812499999966" x="-3080.5902274662144" y="3882.5123413827782"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="121.609375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="202.064453125" x="83.0068359375" xml:space="preserve" y="30.781306250000398">u8 Led_Run_Cpu(void)
{
	if(TaskTimePare.Tim500ms_flag==1)
	{
			LedRun_Set_Not();
	}
	return  gRET_OK;
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n75">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="136.17198750000034" width="247.0781250000001" x="-3422.1804549324283" y="3906.0123413827787"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="77.505859375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="151.421875" x="47.828125" xml:space="preserve" y="29.333064062499943">void LedRun_Set_Not(void)
{
		//u8 gpio_vlue=0;
		PBout(14)=~PBout(14);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n76">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="571.5053208333334" width="479.32812499999966" x="602.9077977842182" y="3404.2310913827782"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="533.2421875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="420.37890625" x="29.474609374999773" xml:space="preserve" y="19.13156666666646">void  BQ769xx_Oper_Comm(void)
{
    if((TaskTimePare.Tim100ms_flag==1)||(Bq769xx_Oper_EN==OPER_ON ) )
    {   
				switch (Bq769xx_Oper_Type)
				{
				case COMM_DSG_ON:
				  BQ769xx_DSGSET(OPER_ON);
					Bq769xx_Oper_EN=OPER_OFF;
					Bq769xx_Oper_Type=0;
					break;
				case COMM_DSG_OFF:
					BQ769xx_DSGSET(OPER_OFF);
					Bq769xx_Oper_EN=OPER_OFF;
					Bq769xx_Oper_Type=0;
					break;
				case COMM_CHG_ON:
					BQ769xx_CHGSET(OPER_ON);
					Bq769xx_Oper_EN=OPER_OFF;
					Bq769xx_Oper_Type=0;
					break;
				case COMM_CHG_OFF:
					BQ769xx_CHGSET(OPER_OFF);
					Bq769xx_Oper_EN=OPER_OFF;
					Bq769xx_Oper_Type=0;
					break;	
				case COMM_CLEAR_ALERT:
					
					break;
				case COMM_ENTER_SHIP:
						Power_Down();
					break;
				default: break;
				}
		}
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n77">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="459.00532083333337" width="429.3281249999999" x="1181.940595568436" y="3460.481091382778"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="386.23046875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="362.13671875" x="33.595703125" xml:space="preserve" y="36.38742604166691">void  BQ769xx_Wake_Comm(void)
{
	if((TaskTimePare.Tim500ms_flag==1)&amp;&amp;(Bq769xx_Wake_EN==1))
	{
			if(bq769xx_Wake_cont&amp;0x80)
			{
					if((bq769xx_Wake_cont&amp;0x7f)&gt;=WAKE_TIME_OUT_1S)
					{
							BQ769xx_WAKE_OFF;
							bq769xx_Wake_cont=0;
							Bq769xx_Wake_EN=0;
							BQ769xx_Init();
					}
					else  
					{
							bq769xx_Wake_cont++;
					}
			}
			else 
			{		
					BQ769xx_WAKE_ON;
					bq769xx_Wake_cont=0;
					bq769xx_Wake_cont|=0x80;
			}
	}
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n78">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="180.88032083333383" width="360.5781249999999" x="1689.443691136872" y="3599.543591382778"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="77.505859375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="157.404296875" x="101.5869140625" xml:space="preserve" y="51.68723072916691">void Sys_Function_Pro(void)
{
		Sys_Mode_Charge();
		Sys_State_Check();
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n79">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="459.00532083333337" width="322.3281249999999" x="2159.6535163404233" y="3460.481091382778"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="327.42578125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="205.05859375" x="58.634765625" xml:space="preserve" y="65.78976979166691">u8 Batt_soc_check(void)
{
		u8 ret=gRET_OK;
		static u8 wait_tim_cnt = 5;
	
		if(TaskTimePare.Tim200ms_flag != 1)
		{
				return gRET_NG;
		}
		
		if(wait_tim_cnt &gt; 0)
		{
				wait_tim_cnt--;
				return gRET_NG;
		}
		
		batt_temp_full_cap();
		batt_ocvsoc_calcua_soc();
		batt_AHinte_calcua_soc();
		
		return  ret;
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n80">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="883.2240708333334" width="894.5937499999999" x="2566.9063102939745" y="3344.453360018932"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="812.564453125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="782.107421875" x="56.2431640625" xml:space="preserve" y="35.32980885416646">static void batt_temp_full_cap(void)
{
		u8  ratio=0;
		u8  updata_flag=0;
		u16  temp_rate=0;
		static i16 temp_last=0;
	
		if( gBMSData.BattPar.TempPackMin&gt;=250)                             
    {
      ratio=1;
    }
    else if((gBMSData.BattPar.TempPackMin&lt;250)&amp;&amp;(gBMSData.BattPar.TempPackMin&gt;=100))      //
    {   ratio=2;
    }
    else if((gBMSData.BattPar.TempPackMin&lt;100)&amp;&amp;(gBMSData.BattPar.TempPackMin&gt;=0))      
    {   ratio=3;
    }
    else if((gBMSData.BattPar.TempPackMin&lt;-10)&amp;&amp;(gBMSData.BattPar.TempPackMin&gt;=-200))     //
    {   ratio=4;
    }
    else if((gBMSData.BattPar.TempPackMin&lt;-200)&amp;&amp;(gBMSData.BattPar.TempPackMin&gt;=-300))    //
    {   ratio=5;
    }
		else    // 
    {   
				ratio=6;                                         
    }
		
		if( gBMSData.BattPar.TempPackMin&gt;temp_last)
		{
				if((gBMSData.BattPar.TempPackMin-temp_last)&gt;=10 )
				{
						updata_flag=1;
						temp_last=gBMSData.BattPar.TempPackMin;
				}
		}
		else
		{
				if((temp_last-gBMSData.BattPar.TempPackMin)&gt;=10 )
				{
						updata_flag=1;
						temp_last=gBMSData.BattPar.TempPackMin;
				}
		}
		
		if(updata_flag == 1  )
		{
				updata_flag = 0;
				temp_rate=1000+ratio*(gBMSData.BattPar.TempPackMin-250)/10;
				temp_rate=rate_limit_max_min(temp_rate);
			
				gBMSData.PackCap.pack_real_cap=gBMSData.PackCap.pack_rated_cap*temp_rate/1000;      //µç³ØË¥¼õºóµÄÊµ¼ÊÈÝÁ¿  µ¥Î»   10mA/200ms 
				gBMSData.PackCap.pack_rem_cap=gBMSData.PackCap.pack_real_cap*gBMSData.BattPar.SOCSys/1000;
		}
}
<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n81">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="53.90753280000024" width="170.49885866666668" x="2206.705381078698" y="3759.1116290355985"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="center" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="83.24942933333341" y="24.95376639999995">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n82">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="500.72407083333337" width="711.5937499999999" x="3580.5542242267747" y="3535.703360018932"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="356.828125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="586.626953125" x="62.4833984375" xml:space="preserve" y="71.94797291666646">static void batt_ocvsoc_calcua_soc(void)
{
		static u8 soc_flag = 1;
	
		if(soc_flag == 1)
		{
				soc_flag = 0;
				gBMSData.BattPar.SOCSys = Seeka_OcvSoc_Table(gBMSData.BattPar.VoltCellMin, OCV_Table);
				gBMSData.PackCap.pack_rem_cap =gBMSData.PackCap.pack_real_cap*gBMSData.BattPar.SOCSys/1000;
				return;
		}
		
		if(gBMSData.Sys_Mod.sys_mode != SYS_MODE_STANDBY)
		{
			  stanby_ocv_cnt = 0;
				return ;
		}
		if(stanby_ocv_cnt++ &gt;= STANBY_OCV_TIME)
		{
				stanby_ocv_cnt = 0;
				gBMSData.BattPar.SOCSys = Seeka_OcvSoc_Table(gBMSData.BattPar.VoltCellMin, OCV_Table);
				gBMSData.PackCap.pack_rem_cap =gBMSData.PackCap.pack_real_cap*gBMSData.BattPar.SOCSys/1000;
		}
}
<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n83">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="1201.8959458333334" width="695.9687499999999" x="4411.202138159575" y="3185.1174225189316"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="1121.2890625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="589.9609375" x="53.00390625" xml:space="preserve" y="40.30344166666691">static void batt_AHinte_calcua_soc(void)
{

		u16 curr_value = 0;

		if((gBMSData.Sys_Mod.sys_mode == SYS_MODE_CHARGE) &amp;&amp; (soc_uvp_flag == FALSE))
		{
				soc_uvp_flag = TRUE;
		}
		
		if((gBMSData.Sys_Mod.sys_mode != SYS_MODE_CHARGE) &amp;&amp; (soc_ovp_flag == FALSE))
		{
				soc_ovp_flag = TRUE;
		}

		if ((gBMSData.BattPar.VoltCellMax &gt;=(gBMSConfig.BQ76Para.OV_Thresh-2)) &amp;&amp;
			(gBMSData.Sys_Mod.sys_mode == SYS_MODE_CHARGE) &amp;&amp;
			(soc_ovp_flag == TRUE))
		{
			soc_ovp_flag = FALSE;
			gBMSData.PackCap.pack_rem_cap = gBMSData.PackCap.pack_real_cap;
			gBMSData.BattPar.SOCSys = 1000;
			return;
		}

		if((gBMSData.BattPar.VoltCellMin &lt;= (gBMSConfig.BQ76Para.UV_Thresh+2)) &amp;&amp;
			 (gBMSData.Sys_Mod.sys_mode != SYS_MODE_CHARGE) &amp;&amp;
			 (soc_uvp_flag == TRUE))
		{
			soc_uvp_flag = FALSE;
			gBMSData.PackCap.pack_rem_cap = 0;
			gBMSData.BattPar.SOCSys = 0;
			return;
		}
		
		curr_value = abs(gBMSData.BattPar.CurrLine);
		if (gBMSData.Sys_Mod.sys_mode == SYS_MODE_CHARGE)
		{
				if(gBMSData.PackCap.pack_real_cap &gt;= (gBMSData.PackCap.pack_rem_cap + curr_value))
				{
						gBMSData.PackCap.pack_rem_cap += curr_value;
				}
				else 
				{
						gBMSData.PackCap.pack_rem_cap = gBMSData.PackCap.pack_real_cap;
				}
		}
		else  if (gBMSData.Sys_Mod.sys_mode == SYS_MODE_DISCHARGE)
		{
				if(gBMSData.PackCap.pack_rem_cap &gt;= curr_value)
				{
						gBMSData.PackCap.pack_rem_cap -= curr_value;
				}
				else
				{		
						gBMSData.PackCap.pack_rem_cap = 0;
				}
		}
		else 
		{
			//if(gBMSData.PackCap.pack_rem_cap &gt;= 1)    //¾²Ì¬Ê±10MA
			//{
			// 		gBMSData.PackCap.pack_rem_cap -= 1;
			//}
			//else
			//{		
			// 		gBMSData.PackCap.pack_rem_cap = 0;
			//}
		}
		
		gBMSData.BattPar.SOCSys = gBMSData.PackCap.pack_rem_cap*1000/gBMSData.PackCap.pack_real_cap;
		if(gBMSData.BattPar.SOCSys &gt; SOC_LIMIT_MAX)
		{
				gBMSData.BattPar.SOCSys = 1000;
		}
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n84">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="28.350543436559065" width="274.37635891111165" x="-1448.9881816237735" y="1949.2722683172246"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="20" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="28.501953125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="258.462890625" x="7.956734143055883" xml:space="preserve" y="-0.07570484422035406">每1ms中断一次，计数器加1.<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n85">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.52862718446977" width="235.5658242070981" x="-800.1287784977341" y="1868.6852386824264"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="226.69140625" x="4.437208978549052" xml:space="preserve" y="-1.0862723452651153">计数超过10则为10ms，清零，置标志位。<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n86">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="16.52862718446977" width="235.5658242070981" x="-800.1287784977341" y="1926.6017817660572"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="230.04296875" x="2.7614277285490516" xml:space="preserve" y="-1.0862723452651153">10ms计数10次就是100ms,清零置标志位。<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n87">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="14.085645151308881" width="235.5658242070981" x="-813.2966874969736" y="2017.2416181343174"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="230.04296875" x="2.7614277285490516" xml:space="preserve" y="-2.3077633618454456">100ms计数2次就是200ms,清零置标志位。<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n88">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="14.085645151308881" width="235.5658242070981" x="-813.2966874969736" y="2148.503163980941"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="230.04296875" x="2.7614277285490516" xml:space="preserve" y="-2.3077633618454456">100ms计数5次就是500ms,清零置标志位。<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n89">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="14.085645151308881" width="235.5658242070981" x="-817.7938294658535" y="2266.979647537657"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="206.69921875" x="14.433302728549052" xml:space="preserve" y="-2.3077633618454456">500ms计数2次就是1s,清零置标志位。<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n90">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="14.085645151308881" width="235.5658242070981" x="-817.7938294658535" y="2383.7950053720733"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="196.703125" x="19.43134960354905" xml:space="preserve" y="-2.3077633618454456">1s计数10次就是10s,清零置标志位。<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n91">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="14.085645151308881" width="235.5658242070981" x="-817.7938294658535" y="2501.596894955951"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="197.359375" x="19.10322460354905" xml:space="preserve" y="-2.3077633618454456">10s计数6次就是1m ,清零置标志位。<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n92">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="82.13364963536435" width="318.6249999999998" x="-871.5891739655749" y="2690.8320035218726"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="203.751953125" x="57.436523437499886" xml:space="preserve" y="31.716238880182118">static u8 Uart2Recv[UARTNunD]={0};<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n93">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="100.35191053606684" width="364.717098414375" x="-337.57171517031617" y="1993.2501980727677"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="180.3585492071875" y="48.175955268033476">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n94">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="40.79012601397801" width="318.6249999999998" x="-871.5891739655749" y="2772.965653157237"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="164.0546875" x="77.28515624999989" xml:space="preserve" y="11.044477069488948">#define UARTNunD       0xFF <y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n95">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="286.65383404571696" width="705.1615297593723" x="-1678.8953642451047" y="2527.101945125498"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="253.919921875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="607.1171875" x="49.022171129686285" xml:space="preserve" y="16.36695608535865">void USART2_IRQHandler(void)                	             //串口2中断服务程序
{
		if(USART_GetITStatus(USART2, USART_IT_RXNE) != RESET)  //接收中断（接收到数据必须是0x0d 0x0a结束）
		{
				if(((RBDown2-RBUp2) &amp; UARTNunD)!=1)
				{    Uart2Recv[RBUp2++]=USART_ReceiveData(USART2);
						 if(RBUp2&gt;= UARTNunD)
						 {
								RBUp2=0;
						 }
				}
			  else
			  {
					   Uart2Recv[RBUp2]=USART_ReceiveData(USART2);
			  }	
		} 
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n96">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="41.22803440059738" width="341.47486446057417" x="-1456.9008968701369" y="2649.8148449480577"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="20" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="28.501953125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="302.916015625" x="19.27942441778714" xml:space="preserve" y="6.363040637798804">串口接收中断，将数据存入Buffer.<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n97">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="19.64393032566261" width="357.66413050150527" x="-317.4251801343266" y="2854.2367411916066"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="176.83206525075263" y="7.821965162831475">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n98">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="330.0730058817013" width="394.8733017607526" x="-2176.5706294784454" y="2483.6827732895135"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="298.0234375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="273.513671875" x="60.67981494287642" xml:space="preserve" y="16.024784190850824">u16 Rs485_Read_Data(u8* resp_buf,u8 size_buf )
{
		u8 rsp_val;
		u16 ret=0;
		if ((resp_buf==NULL)||(0 == size_buf))
		{
			return (gRET_NG);
		}
		rsp_val=resp_buf[1];
		switch (rsp_val)
		{
			case RS485_BMS_ID:
				Rs485_Rec_PCdata(resp_buf , size_buf);
				break;
			default: 
				Rs485_Rec_PCdata(resp_buf , size_buf);
				break;
		}
		return (ret);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n99">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="416.11709641032905" width="348.54186839918407" x="-2597.2865083041024" y="2397.6386827608862"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="356.828125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="292.17578125" x="28.18304357459192" xml:space="preserve" y="29.644485705164698">u16  Rs485_Rec_PCdata(u8* PCdtaBuff, u8 size_buf)
{
    u8 typedata=0;
    u16 ret=0;
	
		typedata=PCdtaBuff[2];
		switch (typedata)
		{
		case RS485_FUN_COMM1:
			Send_GainOffset_Data();
			break;
		case RS485_FUN_COMM2:
			Send_BMS_Data();
			break;
		case RS485_FUN_COMM3:
			Send_BQ769xxConfig_Data();
			break;
		case RS485_FUN_COMM4:
		  PcComm_Pro( PCdtaBuff, size_buf);
			break;
		default: break;
		}
		return (ret);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n100">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="44.36871297661639" width="267.6572462897009" x="-2133.715297421506" y="2664.1518883003914"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="131.82862314485055" y="20.184356488308367">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n101">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="44.36871297661639" width="218.18057048050127" x="-2176.5706294784454" y="2439.3140603128973"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="167.435546875" x="25.372511802750523" xml:space="preserve" y="12.833770550808367">#define RS485_BMS_ID  0x11<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n102">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="87.74552464495594" width="237.1579255854001" x="-2597.2865083041024" y="2309.8931581159304"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="62.8046875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="198.759765625" x="19.199079980200167" xml:space="preserve" y="12.470418572478138">#define RS485_FUN_COMM1  0x01
#define RS485_FUN_COMM2  0x02
#define RS485_FUN_COMM3  0x03
#define RS485_FUN_COMM4  0x04<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n103">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="135.40071324542635" width="450.01776800083576" x="-3313.0072917334137" y="1813.1072646502685"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="121.609375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="426.16796875" x="11.924899625417765" xml:space="preserve" y="6.895669122713116">void Send_GainOffset_Data(void)
{ 
	 u8 DataBuff[3]={0};
	 DataBuff[0]=(u8)((VoltCellGainUV&amp;0xFF00)&gt;&gt;8);
	 DataBuff[1]=(u8)(VoltCellGainUV&amp;0x00ff);
	 DataBuff[2]=VoltCellOffSet;
	 Uart2Send(RS485_BMS_ID,RS485_FUN_COMM1,sizeof(DataBuff),DataBuff);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n104">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="449.13070486519166" width="450.01776800083576" x="-3313.0072917334137" y="1948.5079778956947"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="415.6328125" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="429.501953125" x="10.257907437917765" xml:space="preserve" y="16.748946182595773">void Send_BMS_Data(void)
{
		u8 DataBuff[46]={0};
		u8 ia=0;

		for( ia=0; ia&lt;15; ia++ )
		{
			DataBuff[2*ia]=(gBMSData.BattPar.VoltCell[ia]&amp;0xFF00)&gt;&gt;8;
			DataBuff[2*ia+1]= gBMSData.BattPar.VoltCell[ia]&amp;0xFF;
		}
		DataBuff[30]=(gBMSData.BattPar.VoltLine)&gt;&gt;8;
		DataBuff[31]=gBMSData.BattPar.VoltLine&amp;0xFF;
		DataBuff[32]=(gBMSData.BattPar.TempCell[0])&gt;&gt;8;
		DataBuff[33]=gBMSData.BattPar.TempCell[0]&amp;0xFF;
		DataBuff[34]=(gBMSData.BattPar.TempCell[1])&gt;&gt;8;
		DataBuff[35]=gBMSData.BattPar.TempCell[1]&amp;0xFF;
		DataBuff[36]=(gBMSData.BattPar.TempCell[2])&gt;&gt;8;
		DataBuff[37]=gBMSData.BattPar.TempCell[2]&amp;0xFF;
		DataBuff[38]=(gBMSData.BattPar.CurrLine)&gt;&gt;8;
		DataBuff[39]=gBMSData.BattPar.CurrLine&amp;0xFF;
		DataBuff[40]=(gBMSData.BattPar.SOCSys)&gt;&gt;8;
		DataBuff[41]=gBMSData.BattPar.SOCSys&amp;0xFF;
		DataBuff[42]=(gBMSData.BalaPar.bala_ctrl_sw&gt;&gt;24)&amp;0xff;
		DataBuff[43]=(gBMSData.BalaPar.bala_ctrl_sw&gt;&gt;16)&amp;0xff;
		DataBuff[44]=(gBMSData.BalaPar.bala_ctrl_sw&gt;&gt;8)&amp;0xff;
		DataBuff[45]=gBMSData.BalaPar.bala_ctrl_sw&amp;0xff;
	  Uart2Send(RS485_BMS_ID,RS485_FUN_COMM2,sizeof(DataBuff),DataBuff);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n105">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="323.49302806701155" width="450.01776800083576" x="-3313.0072917334137" y="2397.6386827608862"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="283.322265625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="436.169921875" x="6.9239230629177655" xml:space="preserve" y="20.08538122100572">void Send_BQ769xxConfig_Data(void)
{
	  u8 DataBuff[12]={0};

		DataBuff[0]= Bq769xxReg.SysStatus.StatusByte;
		DataBuff[1]= Bq769xxReg.CellBal1.CellBal1Byte;
		DataBuff[2]= Bq769xxReg.CellBal2.CellBal2Byte;
		DataBuff[3]= Bq769xxReg.CellBal3.CellBal3Byte;
		DataBuff[4]= Bq769xxReg.SysCtrl1.SysCtrl1Byte;
		DataBuff[5]= Bq769xxReg.SysCtrl2.SysCtrl2Byte;
		DataBuff[6]= Bq769xxReg.Protect1.Protect1Byte;
		DataBuff[7]= Bq769xxReg.Protect2.Protect2Byte;
		DataBuff[8]= Bq769xxReg.Protect3.Protect3Byte;
		DataBuff[9]= Bq769xxReg.OVTrip;
		DataBuff[10]= Bq769xxReg.UVTrip;
		DataBuff[11]= Bq769xxReg.CCCfg;

    Uart2Send(RS485_BMS_ID,RS485_FUN_COMM3,sizeof(DataBuff),DataBuff);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n106">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="540.6716219493647" width="450.01776800083576" x="-3313.0072917334137" y="2721.1317108278977"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="518.541015625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="264.443359375" x="92.78720431291777" xml:space="preserve" y="11.065303162182317">u16 PcComm_Pro(u8* dtaBuff, u8 size)
{   
		u8 typecomm =0;
		u16 ret=0;
		typecomm=dtaBuff[4];
		switch (typecomm)
		{
		case COMM_DSG_ON:
			Bq769xx_Oper_EN=OPER_ON;
			Bq769xx_Oper_Type=COMM_DSG_ON;
			break;
		case COMM_DSG_OFF:
			Bq769xx_Oper_EN=OPER_ON;
			Bq769xx_Oper_Type=COMM_DSG_OFF;
			break;
		case COMM_CHG_ON:
			Bq769xx_Oper_EN=OPER_ON;
			Bq769xx_Oper_Type=COMM_CHG_ON;
			break;
		case COMM_CHG_OFF:
		  Bq769xx_Oper_EN=OPER_ON;
			Bq769xx_Oper_Type=COMM_CHG_OFF;
		  break;	
		case COMM_CLEAR_ALERT:
			Bq769xx_Oper_EN=OPER_ON;
		  Bq769xx_Oper_Type=COMM_CLEAR_ALERT;
			break;
		case COMM_ENTER_SHIP:
			Bq769xx_Oper_EN=OPER_ON;
			Bq769xx_Oper_Type=COMM_ENTER_SHIP;
			break;
		default: break;
		}
		return (ret);
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n107">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="44.36871297661639" width="223.4128983879948" x="-2576.366706261656" y="2681.1571599476797"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="109.70644919399729" y="20.184356488308367">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n108">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="44.36871297661639" width="223.4128983879948" x="-2576.366706261656" y="2636.7884469710634"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="109.70644919399729" y="20.184356488308367">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n109">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="44.36871297661639" width="223.4128983879948" x="-2576.3667062616564" y="2592.419733994447"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="109.70644919399729" y="20.184356488308367">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n110">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="44.36871297661639" width="223.4128983879948" x="-2576.366706261657" y="2548.051021017831"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" hasText="false" height="4.0" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="4.0" x="109.70644919399729" y="20.184356488308367">
            <y:LabelModel>
              <y:SmartNodeLabelModel distance="4.0"/>
            </y:LabelModel>
            <y:ModelParameter>
              <y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/>
            </y:ModelParameter>
          </y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n111">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="486.8940653689725" width="698.2218752949532" x="-4211.574883137416" y="2234.2376454589253"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="445.03515625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="587.013671875" x="55.604101709976476" xml:space="preserve" y="20.929454559486203">void Uart2Send(unsigned char STData,unsigned char FunCom,unsigned char LengByte,unsigned char* Data)
{
    unsigned char i=0;
    unsigned char CRCnum=0;
    unsigned char SendData[UARTNunD+1]={0};

		RS485_Rce_OFF;
    
    SendData[0]=START_SYMBOL;
		CRCnum=START_SYMBOL;
    SendData[1]=STData;
    CRCnum+=STData;
    SendData[2]=FunCom;
    CRCnum+=FunCom;
    SendData[3]=LengByte;
    CRCnum+=LengByte;
    for(i=0;i&lt;LengByte;i++)
    {    
         SendData[i+4]=Data[i];
         CRCnum+=SendData[i+4];
    }
    SendData[LengByte+4]=0-CRCnum;
    
    for(i=0;i&lt;(LengByte+5);i++)
    {
			  Usart2SendData(SendData[i]); 
    }
		delay_us(100);
		RS485_Rce_ON;
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n112">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="66.99345633646237" width="279.37744423612935" x="-4211.574883137416" y="2167.244189122463"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="33.40234375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="233.125" x="23.126222118065016" xml:space="preserve" y="16.79555629323113">#define  RS485_Rce_OFF     PBout(15)=1 
#define  RS485_Rce_ON      PBout(15)=0 <y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n113">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="24.783885097129996" width="270.94742194872913" x="-4036.6458976877616" y="2341.3447769871127"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="16" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="23.6015625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="260.0" x="5.4737109743646215" xml:space="preserve" y="0.5911612985651118">半双工：禁用接收，进入发送状态。<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n114">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="24.783885097129996" width="270.94742194872913" x="-4050.6329290777335" y="2670.611428465938"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="16" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="23.6015625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="260.0" x="5.4737109743646215" xml:space="preserve" y="0.5911612985651118">半双工：发送完毕，进入接收状态。<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n115">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="119.23011487811641" width="370.64631251767867" x="-3938.673352988273" y="2390.919569867087"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="16" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="62.8046875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="363.1640625" x="3.74112500883939" xml:space="preserve" y="28.21271368905809">开始组帧，
并累加校验和。
所有数据被组织在SendData连续地址的缓冲区中。<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n116">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="26.41051553469265" width="105.84443253611232" x="-3938.673352988273" y="2563.79095609314"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="16" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="23.6015625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="68.0" x="18.922216268056218" xml:space="preserve" y="1.404476517346211">各位取反<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n117">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="30.383831483512722" width="210.66666677323798" x="-229.7379102511198" y="3585.87795546534"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="15" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="22.37646484375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="124.02197265625" x="43.32234705849396" xml:space="preserve" y="4.003683319881475">每200ms执行一次<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n118">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="87.31589679820877" width="287.2538498751499" x="-14.871710123833878" y="3702.914991702425"/>
          <y:Fill color="#FFCC99" transparent="false"/>
          <y:BorderStyle hasColor="false" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="15" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="77.505859375" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="252.408203125" x="33.52822170158717" xml:space="preserve" y="4.905018711604953">一次读回40个字节的数据
从VC1,VC2,VC3.... TS1,TS2,TS3,CC
每个数据项占用2个字节
用memcpy复制到结构体中！<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.05606677972640628" nodeRatioY="3.774758283725532E-15" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n119">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="37.319981080510956" width="198.11879508389427" x="-519.8061651620997" y="3366.9111103022674"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="183.4375" x="7.340647541947192" xml:space="preserve" y="9.309404602755421">#define  SYS_CELL_MAX       15 <y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n120">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="37.319981080510956" width="198.11879508389427" x="-519.8061651620997" y="3329.5911292217565"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="18.701171875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="157.43359375" x="20.342600666947135" xml:space="preserve" y="9.309404602755421">#define BQ769xxAddr   0x08<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n121">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="444.81780773529454" width="606.015638098039" x="602.9077977842182" y="4059.238737673164"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="371.529296875" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="553.52734375" x="26.244147174019417" xml:space="preserve" y="36.644255430147496">u8 BQ769xx_DSGSET(u8 ONOFF)
{
    u8 ret=gRET_OK; 
    u8 rcd=0;
    
    if( ONOFF&gt;1)
    {
        return gRET_NG ;
    }
    rcd=IIC_ReadByte(BQ769xxAddr, SYS_CTRL2_RegAddr, &amp;(Bq769xxReg.SysCtrl2.SysCtrl2Byte));
    if(rcd!=gRET_OK)
    {
        return gRET_NG;
    }
    
    if(ONOFF==1)
    {
          IIC_WritByte(BQ769xxAddr, SYS_CTRL2_RegAddr, Bq769xxReg.SysCtrl2.SysCtrl2Byte|0x02); 
    }
    else
    {
          IIC_WritByte(BQ769xxAddr, SYS_CTRL2_RegAddr, Bq769xxReg.SysCtrl2.SysCtrl2Byte&amp;0xFD);
    }
    return ret;
}
<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <node id="n122">
      <data key="d6">
        <y:ShapeNode>
          <y:Geometry height="444.81780773529454" width="606.015638098039" x="1263.5283394869632" y="4059.238737673164"/>
          <y:Fill hasColor="false" transparent="false"/>
          <y:BorderStyle color="#000000" raised="false" type="line" width="1.0"/>
          <y:NodeLabel alignment="left" autoSizePolicy="content" fontFamily="Dialog" fontSize="12" fontStyle="plain" hasBackgroundColor="false" hasLineColor="false" height="400.931640625" horizontalTextPosition="center" iconTextGap="4" modelName="custom" textColor="#000000" verticalTextPosition="bottom" visible="true" width="556.19921875" x="24.908209674019417" xml:space="preserve" y="21.943083555147496">u8 BQ769xx_CHGSET(u8 ONOFF)
{
    u8 ret=gRET_OK; 
    u8 rcd=0; 
    
    if( ONOFF&gt;1)
    {
        return gRET_NG ;
    }
    
    rcd = IIC_ReadByte(BQ769xxAddr, SYS_CTRL2_RegAddr,  &amp;Bq769xxReg.SysCtrl2.SysCtrl2Byte );
    
    if(rcd!=gRET_OK)
    {
        return gRET_NG ;
    }
    
    if(ONOFF==1)
    {
          IIC_WritByte(BQ769xxAddr, SYS_CTRL2_RegAddr, Bq769xxReg.SysCtrl2.SysCtrl2Byte|0x01 ); 
     }
     else
     {
          IIC_WritByte(BQ769xxAddr, SYS_CTRL2_RegAddr, Bq769xxReg.SysCtrl2.SysCtrl2Byte&amp;0xFE );
     }
    return ret ;
}<y:LabelModel><y:SmartNodeLabelModel distance="4.0"/></y:LabelModel><y:ModelParameter><y:SmartNodeLabelModelParameter labelRatioX="0.0" labelRatioY="0.0" nodeRatioX="0.0" nodeRatioY="0.0" offsetX="0.0" offsetY="0.0" upX="0.0" upY="-1.0"/></y:ModelParameter></y:NodeLabel>
          <y:Shape type="rectangle"/>
        </y:ShapeNode>
      </data>
    </node>
    <edge id="e0" source="n1" target="n2">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e1" source="n4" target="n3">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="25.58581040942454" y="613.4356514116218"/>
            <y:Point x="25.58581040942454" y="506.34618282324357"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e2" source="n5" target="n6">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="25.58581040942454" y="645.6024490632437"/>
            <y:Point x="25.58581040942454" y="797.9999999999998"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e3" source="n9" target="n8">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="46.50485967442603" y="659.9524522632438"/>
            <y:Point x="46.50485967442603" y="833.6552981691162"/>
            <y:Point x="-249.9035719661989" y="833.6552981691162"/>
            <y:Point x="-249.9035719661989" y="932.7656249999997"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e4" source="n11" target="n10">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-1346.8091031394829" y="766.8947037917351"/>
            <y:Point x="-1346.8091031394829" y="729.9999999999998"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e5" source="n10" target="n12">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-1620.9754125217244" y="729.9999999999998"/>
            <y:Point x="-1620.9754125217244" y="795.9999999999998"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e6" source="n17" target="n16">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="68.97201457971235" y="704.3810986632438"/>
            <y:Point x="68.97201457971235" y="853.6552981691162"/>
            <y:Point x="-229.90357196619888" y="853.6552981691162"/>
            <y:Point x="-229.90357196619888" y="952.7656249999997"/>
            <y:Point x="-563.3738354102061" y="952.7656249999997"/>
            <y:Point x="-563.3738354102061" y="1324.0977124999997"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e7" source="n19" target="n18">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="93.56586112913692" y="718.8097450632439"/>
            <y:Point x="93.56586112913692" y="873.6552981691162"/>
            <y:Point x="-209.9035719661989" y="873.6552981691162"/>
            <y:Point x="-209.9035719661989" y="972.7656249999997"/>
            <y:Point x="-540.9791409375496" y="972.7656249999997"/>
            <y:Point x="-540.9791409375496" y="1562.3868875"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e8" source="n20" target="n21">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="790.6577460680649" y="733.159748263244"/>
            <y:Point x="790.6577460680649" y="79.43755625000023"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e9" source="n22" target="n23">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="810.6577460680649" y="747.509751463244"/>
            <y:Point x="810.6577460680649" y="296.0988523988499"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e10" source="n24" target="n25">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="827.1616163805649" y="761.9383978632441"/>
            <y:Point x="827.1616163805649" y="561.9788985476996"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e11" source="n26" target="n27">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="1491.9739209411132" y="791.9383978632441"/>
            <y:Point x="1491.9739209411132" y="296.0988523988499"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e12" source="n29" target="n28">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="2285.209281097362" y="808.2544810632442"/>
            <y:Point x="2285.209281097362" y="208.59885239884994"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e13" source="n30" target="n31">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="1015.4574332738757" y="835.4589525264881"/>
            <y:Point x="1015.4574332738757" y="895.9263560632442"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e14" source="n31" target="n32">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e15" source="n34" target="n33">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="989.8507577965827" y="851.0148181264882"/>
            <y:Point x="989.8507577965827" y="990.9187106861976"/>
            <y:Point x="1722.760914046583" y="990.9187106861976"/>
            <y:Point x="1722.760914046583" y="1036.941981063244"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e16" source="n35" target="n39">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e17" source="n36" target="n40">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="2325.5983595885746" y="976.7803505398227"/>
            <y:Point x="2325.5983595885746" y="1296.9110568699116"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e18" source="n37" target="n41">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="2283.0308814635737" y="1007.1062178632438"/>
            <y:Point x="2283.0308814635737" y="1650.9660568699114"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e19" source="n38" target="n42">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="2250.5476681057603" y="1040.9169378796455"/>
            <y:Point x="2250.5476681057603" y="2180.0503537449117"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e20" source="n43" target="n44">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="952.9321908670859" y="865.7318229264883"/>
            <y:Point x="952.9321908670859" y="1230.6578973210162"/>
            <y:Point x="1567.0948679382848" y="1230.6578973210162"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e21" source="n45" target="n46">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="901.0797868924695" y="881.0148181264883"/>
            <y:Point x="901.0797868924695" y="1709.4618960943328"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e22" source="n46" target="n47">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e23" source="n57" target="n58">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-120.22231314803503" y="945.1506175897323"/>
            <y:Point x="-120.22231314803503" y="1055.2457996760716"/>
            <y:Point x="-435.1637193980348" y="1055.2457996760716"/>
            <y:Point x="-435.1637193980348" y="1707.1012684260713"/>
            <y:Point x="-712.276673965575" y="1707.1012684260713"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e24" source="n58" target="n59">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-1264.6457583622996" y="2221.5744999999997"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e25" source="n60" target="n61">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-53.684235420287564" y="975.8162687794645"/>
            <y:Point x="-53.684235420287564" y="1099.8678291218698"/>
            <y:Point x="-372.7660416477902" y="1099.8678291218698"/>
            <y:Point x="-372.7660416477902" y="1707.1012684260713"/>
            <y:Point x="-326.5061651620997" y="1707.1012684260713"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e26" source="n61" target="n62">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-39.204602662099944" y="1837.8463749999996"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e27" source="n64" target="n63">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="6.138168664709951" y="1006.1475711589289"/>
            <y:Point x="6.138168664709951" y="1696.9258693757806"/>
            <y:Point x="530.9648571758005" y="1696.9258693757806"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e28" source="n66" target="n65">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="708.3586337164677" y="2110.3320853718697"/>
            <y:Point x="708.3586337164677" y="1642.6375669470694"/>
            <y:Point x="49.92113371646815" y="1642.6375669470694"/>
            <y:Point x="49.92113371646815" y="1035.1062399178577"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e29" source="n67" target="n68">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="597.9394547565073" y="1064.3722367178577"/>
            <y:Point x="597.9394547565073" y="1264.8563995544919"/>
            <y:Point x="811.4868180377575" y="1264.8563995544919"/>
            <y:Point x="811.4868180377575" y="1882.4496612732423"/>
            <y:Point x="916.5750268516007" y="1882.4496612732423"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e30" source="n70" target="n69">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="516.8252523346323" y="1095.2595070357154"/>
            <y:Point x="516.8252523346323" y="1312.9851157857372"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e31" source="n66" target="n71">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="530.9648571758005" y="3301.7436133773244"/>
            <y:Point x="-39.2046026621" y="3301.7436133773244"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e32" source="n71" target="n72">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e33" source="n72" target="n73">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e34" source="n73" target="n74">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e35" source="n74" target="n75">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e36" source="n68" target="n76">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="916.5750268516007" y="3301.7436133773244"/>
            <y:Point x="842.571860284218" y="3301.7436133773244"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e37" source="n76" target="n77">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e38" source="n77" target="n78">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e39" source="n78" target="n79">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e40" source="n81" target="n80">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e41" source="n80" target="n82">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="3535.6755797603746" y="3786.0653954355985"/>
            <y:Point x="3535.6755797603746" y="3786.0653954355985"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e42" source="n82" target="n83">
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e43" source="n93" target="n92">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-504.6468883138374" y="2043.4261533408012"/>
            <y:Point x="-504.6468883138374" y="2731.8988283395547"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e44" source="n92" target="n95">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-922.6615042256536" y="2731.8988283395547"/>
            <y:Point x="-922.6615042256536" y="2670.4288621483565"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e45" source="n97" target="n98">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-1979.133978598069" y="2864.058706354438"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e46" source="n100" target="n99">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="80.63901382264885"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e47" source="n107" target="n106">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-2747.3298991159045" y="2703.341516435988"/>
            <y:Point x="-2747.3298991159045" y="2991.46752180258"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e48" source="n108" target="n105">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-2747.3298991159045" y="2658.972803459372"/>
            <y:Point x="-2747.3298991159045" y="2559.385196794392"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e49" source="n109" target="n104">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-2698.499877740908" y="2614.6040904827555"/>
            <y:Point x="-2698.499877740908" y="2173.0733303282905"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e50" source="n110" target="n103">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-2653.176566728466" y="2570.2353775061392"/>
            <y:Point x="-2653.176566728466" y="1880.8076212729816"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e51" source="n103" target="n111">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="-3862.4639454899393" y="1880.8076212729816"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e52" source="n104" target="n111">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="141.08915960334434" ty="-135.41427523090806">
            <y:Point x="-3721.374785886595" y="2173.0733303282905"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e53" source="n105" target="n111">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="0.0" ty="81.70051865098048"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e54" source="n76" target="n121">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="0.0" sy="0.0" tx="-63.343756549019645" ty="0.0"/>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
    <edge id="e55" source="n76" target="n122">
      <data key="d9"/>
      <data key="d10">
        <y:PolyLineEdge>
          <y:Path sx="98.40164144523828" sy="0.0" tx="0.0" ty="0.0">
            <y:Point x="940.9735017294563" y="4017.487574944638"/>
            <y:Point x="1566.5361585359826" y="4017.487574944638"/>
          </y:Path>
          <y:LineStyle color="#000000" type="line" width="1.0"/>
          <y:Arrows source="none" target="standard"/>
          <y:BendStyle smoothed="false"/>
        </y:PolyLineEdge>
      </data>
    </edge>
  </graph>
  <data key="d7">
    <y:Resources/>
  </data>
</graphml>
